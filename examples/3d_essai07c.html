<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Rotation au clic</title>
    <script src="../js/aframe.js"></script>  
  </head>
  <body>
    <script>
        AFRAME.registerComponent("sphere-anime", {
          init: function() {
            var self = this.el;
            // recherche de l'élément animation à l'intérieur de l'élément courant
            let anim = self.querySelector("a-animation");

            self.addEventListener("click", (e) => {
              console.log("cylinder-anime started");
              anim.emit("fallclick");
            }, false);

          }
        });
    </script>      
    <a-scene cursor="rayOrigin:mouse">
      <a-assets>
        <img id="texture" src="mandelbrot-zoom-10303.png">
      </a-assets>
      <a-camera position="0 0.8 2"></a-camera>
      <a-sphere position="0 0 -2" color="aqua" radius="2" 
        src="#texture" sphere-anime >
        <a-animation attribute="rotation" to="360 0 0" delay="500" dur="10000" 
          easing="ease-in-out" begin="fallclick"></a-animation>
      </a-sphere>
    </a-scene>  
</body>
</html>